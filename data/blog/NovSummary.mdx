---
title: Nov Summary
date: '2023-11-30'
tags: ['Month Summary']
draft: false
images: []
summary: 2023-11月总结
---



<TOCInline toc={props.toc} exclude="Introduction"/>

## 一些新东西

### Devv.ai

发现个非常好用的搜索引擎 [Devv.ai](https://devv.ai)， 这个搜索引擎在这个月逐渐取代了 Google Search、 GPT、 StackOverflow等工具，非常好用，不仅能给出生成式的结果，还能给出引用的文档连接，且像GPT一样支持上下文。

底层是基于微调后的 Code Llama 和 GPT-3.5， 作者是 [Jiayuan](https://x.com/Tisoga?t=XCWYeEokEe-3zG9zZL7quQ&s=09)， 如果将来要收费，应该也会继续订阅这个服务，真的很好用。

![devv example](/static/images/devv.jpg)

### Serverless Application Engine(SAE)
![serverless intro from AlibabaCloud-Intl](/static/images/serverless.png)

这个月尝试了用公有云的Serverless服务来部署服务，总的来说优点包括：`弹性伸缩`、`按量付费（省钱）`、`方便快捷效率高`

以`SAE`为例，其本质是容器，用户不再需要购买云主机来部署服务，公有云会把容器、后端的服务集群完全向用户屏蔽，用户只需关注业务即可


## 一些有趣的问题

### Zgo VPS
这个月想提升一下网速，所以开始部署hysteria2，结果Zgo 美西4837 和 日本IIJ 的VPS都不支持 hy2 ，tcpdump抓包可以看到**客户端的流量都进来了，服务端的就是不回包**  。

用VPS搭建了python udp server测试，发现服务器可以对udp流量进行正常的收发，就是hy2不行； 而同样的hy2搭建脚本在其他厂商那就没问题。

已排除`firewall`、 `iptables`、`route table`等原因，就是提工单反馈是说友商下手太狠，上游IDC的防御盾先把UDP封了。

![zgo hy2](/static/images/zgo-hy2.png)

不过 IIJ 线路用 `reality` 或者 `v2ray+ws+tls` 也勉强够用了，只是晚高峰时有点不稳定，但看看 Youtube 4k 没问题。

<span style={{ color: 'red' }}>注意: 代理到日本IP后，用 Google Search 的时候，中文搜索结果可能前排几乎全是日文，很难受；好处是可以锻炼自己用英语描述问题的能力~</span>


### 网络抖动
这个月遇到了一个很头痛的问题，云上2个ECS实例在同一个交换机下出现网路抖动

![net unstable](/static/images/NetRTUnstable.png)

经过分析，发现网络数据包RT抖动频次大概在3‰左右，对业务造成了影响。

原因：虽然实例部署在同一个可用区的同一个交换机下，但实际可能分配在同一个机房的不同物理宿主机中，而物理宿主机之间的通信出现了网络抖动，这个具体原因推测可能和多租户资源争抢有关。

解决方法：尝试使用公有云提供的 **部署集** 功能把多个实例部署到同一个高性能网络拓扑内，以此来降低并稳定网络延迟，但是当前实例规格不支持这个功能，需要升级到最新的实例规格。

操作步骤：首先需要升级云盘性能，云盘性能达标后，才能升级到指定实例规格，最后使用 `部署集` 的功能。

实际情况：升配云盘后，无法升配到指定的实例规格，原因是阿里云海外机房基础设施比大陆站差，最新一代的实例规格不支持，需要等机房改造。然后资源规格只能升级，不能降级，不支持回滚，导致升配云盘后，实例的规格升也升不上去，降也降不下去，只能通过备份或快照重建原先的实力规格。

最终方案：找内部人员在业务低峰期在后台手动迁移多个实例至同一个宿主机

造成的影响： 如果这个机柜挂了或者宿主机挂了相当于整个可用区挂了，只能切其他可用区。


## 总结
2023只剩最后一个月了，时间过得真快

工作上：整体比较忙，一人身兼多职，什么都要解决，感觉自己什么都在干，好像又什么都没干，脑瓜子嗡嗡的。

生活上：这个月有一个星期没做饭，每天吃公司楼下食堂，换换口味也不错；2个周末大乱斗都没上线，朋友还以为我失踪了；右手手腕的茧越来越厚颜色越来越深了，有关和长期的握鼠标习惯有关，有时候有点不适。

学习上：这个月英语学习开始从读往听上迁移，找了各种 podcast 和 tech youtuber，有空就听一听看一看；了解了一些可以有效提升效能的工具；开始学习nextjs。






